#summary ID3v2 Specific help and documentation.

= PHP-Reader ID3v2 Documentation =

== Introduction ==

     PHP-Reader's ID3v2 implementation is able to read any and all MPEG files containing ID3v2.4 information. This is the newest version of the ID3 standard, as it is defined by ID3.org. PHP-Reader can ONLY reader ID3v2 or the 2.4 kind, it can NOT read ID3v2.3 or 2.2 etc... This is due to a fundamental difference in the way in which size information is stored between the 2.

== Other Help Resources ==
  * [http://code.google.com/p/php-reader/wiki/Help Main Help Page]
  * [http://code.google.com/p/php-reader/wiki/ID3v2FileRef ID3v2 File Reference]
  * [http://code.google.com/p/php-reader/wiki/ID3v2FuncRef ID3v2 Function Reference]

== Examples ==

The simplest way to use the ID3v2 functions is to have them get a specific frame by it's identifier and then output that frame.
{{{
<?php
require_once("ID3v2.php");
$id3 = new ID3v2("file.mp3");
$talb = $id3->getFramesByIdentifier("TALB")->text[0];
echo "Album: " . $talb;
?>
}}}
However, more often then not, there is not just one single piece of information that you would like to output, but rather, you would like to output as much information as possible.
{{{
<?php
require_once("ID3v2.php");
$id3 = new ID3v2("file.mp3");
foreach ($id3->getFramesByIdentifier("*") as $frame)
  if (isset($frame->text[0]) && is_string($frame->text[0]) {
    echo $frame->identifier . ": " . $frame->text[0] . "<br />\n";
  } else {
    echo $frame->identifier . ": Does not contain a string<br />\n";
  }
?>
}}}
ID3v2 can also contain images you might say, well those can be read out too:
{{{
<?php
require_once("ID3v2.php");
$id3 = new ID3v2("file.mp3");
$pic = $id3->getFramesByIdentifier("APIC");
header("Content-Type: " . $pic->getMimeType());
echo $pic->getData();
?>
}}}
But what about outputing the picture on the same page as the rest of the information you might ask, well starting with the functions above, one could simply do the following:
{{{
<?php
require_once("ID3v2.php");
$id3 = new ID3v2("file.mp3");
if ($_GET['action'] != "id3image") { // Read through file
  foreach ($id3->getFramesByIdentifier("*") as $frame)
    if ($frame->identifier != "APIC") { // It's not a picture, so do the normal
      if (isset($frame->text[0]) && is_string($frame->text[0]) {
        echo $frame->identifier . ": " . $frame->text[0] . "<br />\n";
      } else {
        echo $frame->identifier . ": Does not contain a string<br />\n";
      }
    } else { // It is a picture, so this need to be special.
      echo $frame->identifier . ": <img src=\"filename.php?action=id3image\" /><br />\n";
    }
} else { // output the contents of APIC as image file.
  $pic = $id3->getFramesByIdentifier("APIC");
  header("Content-Type: " . $pic->getMimeType()); // Tell the browser the mime type
  echo $pic->getData(); // Send the browser the data.
}
?>
}}}
and there you go! That will output all the information, including the picture, on a single page.